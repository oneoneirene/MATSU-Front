import{i as y,r as n,o as d,j as _,w as a,P as D,S as u,d as s,a as k,a2 as C,e as t,f as S,t as l,m,F as V,X as p,V as B,U as P,a8 as h}from"./index.35cad82d.js";import{Q as g}from"./QCardSection.dd29a592.js";import{Q as v}from"./QCardActions.cc65c070.js";import{Q as w}from"./QCard.167a86a1.js";import{Q as q}from"./QAvatar.75e8df9a.js";import{Q as A}from"./QPage.b15e8c16.js";const b={class:"q-pa-md row justify-center items-center q-gutter-md"},L={class:"text-h6"},$={class:"text-h6"},j={class:"text-h6"},F={class:"text-h6"},N={class:"text-h6"},U={class:"text-h6"},E={class:"q-ml-sm text-center q-ml-md"},O={__name:"PostmanagePage",props:["article"],setup(I){const i=y([]);n(1),n(!1);const c=n(!1),f=async()=>{try{const{data:o}=await D.get("/article");i.push(...o.result),console.log(o)}catch{u.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};f();const x=async o=>{try{await P.delete("/article/"+o),await u.fire({icon:"success",title:"\u6210\u529F",text:"\u6295\u7A3F\u522A\u9664\u6210\u529F"}),f()}catch{u.fire({icon:"error",title:"\u6295\u7A3F\u522A\u9664\u5931\u6557",text:"\u6295\u7A3F\u522A\u9664\u5931\u6557"})}};return(o,r)=>(d(),_(A,null,{default:a(()=>[s("div",b,[(d(!0),k(V,null,C(i,(e,Q)=>(d(),_(w,{class:"card col-4",key:Q},{default:a(()=>[t(S,{src:e.image,ratio:4/3},null,8,["src"]),t(g,null,{default:a(()=>[s("div",L,"\u5206\u985E\uFF1A"+l(e.category),1),s("div",$,"\u6A19\u984C\uFF1A"+l(e.title),1),s("div",j,"\u6295\u7A3F\u4EBA\uFF1A"+l(e.name),1),s("div",F,"\u958B\u59CB\u65E5\u671F\uFF1A"+l(new Date(e.startDay).toLocaleDateString()),1),s("div",N,"\u7D50\u675F\u65E5\u671F\uFF1A"+l(new Date(e.endDay).toLocaleDateString()),1),s("div",U,"\u5167\u5BB9\uFF1A"+l(e.description),1)]),_:2},1024),t(v,{align:"right"},{default:a(()=>[t(m,{flat:"",round:"",color:"teal",onClick:r[0]||(r[0]=X=>c.value=!0),icon:"mdi-delete"})]),_:1})]),_:2},1024))),128))]),t(B,{modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=e=>c.value=e),persistent:""},{default:a(()=>[t(w,null,{default:a(()=>[t(g,{class:"row items-center"},{default:a(()=>[t(q,{icon:"mdi-account-arrow-right",color:"blue","text-color":"white"}),s("span",E,l(o.$t("Delete"))+" ?",1)]),_:1}),t(v,{align:"right"},{default:a(()=>[p(t(m,{flat:"",color:"blue",icon:"mdi-check-circle",onClick:r[1]||(r[1]=e=>x(i._id))},null,512),[[h]]),p(t(m,{flat:"",color:"blue",icon:"mdi-close-circle"},null,512),[[h]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{O as default};
