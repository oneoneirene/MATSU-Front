import{i as ke,at as ve,r as w,c as d,ac as de,o as Se,Y as Le,au as xe,h as f,av as Ie,aw as Ae,H as Be,$ as N,ax as $e,g as p,y as V,ay as Me,az as ie,aA as ue,aB as Ee,w as F,I as K,C as Fe,E as Qe,G as De,aC as We,z as fe,aD as ze,aE as He,K as je,aF as Ke,L as Ne,aG as Ve,aH as Oe}from"./index.ea84918b.js";let Ue=0;const Ge=["click","keydown"],Xe={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ue++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Je(e,T,C,c){const n=ke(ve,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:$}=p(),P=w(null),x=w(null),Q=w(null),k=d(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),b=d(()=>n.currentModel.value===e.name),S=d(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(b.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(c!==void 0&&c.linkClass.value!==""?` ${c.linkClass.value}`:"")),L=d(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),M=d(()=>e.disable===!0||n.hasFocus.value===!0?-1:e.tabindex||0);function I(s,h){if(h!==!0&&P.value!==null&&P.value.focus(),e.disable!==!0){let m;if(c!==void 0)if(c.hasRouterLink.value===!0)m=()=>{s.__qNavigate=!0,n.avoidRouteWatcher=!0;const g=c.navigateToRouterLink(s);g===!1?n.avoidRouteWatcher=!1:g.then(q=>{n.avoidRouteWatcher=!1,q===void 0&&n.updateModel({name:e.name,fromRoute:!0})})};else{C("click",s);return}else m=()=>{n.updateModel({name:e.name,fromRoute:!1})};C("click",s,m),s.defaultPrevented!==!0&&m()}}function E(s){Ie(s,[13,32])?I(s,!0):Ae(s)!==!0&&s.keyCode>=35&&s.keyCode<=40&&n.onKbdNavigate(s.keyCode,$.$el)===!0&&Be(s),C("keydown",s)}function A(){const s=n.tabProps.value.narrowIndicator,h=[],m=f("div",{ref:Q,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&h.push(f(N,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&h.push(f("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&h.push(e.alertIcon!==void 0?f(N,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):f("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),s===!0&&h.push(m);const g=[f("div",{class:"q-focus-helper",tabindex:-1,ref:P}),f("div",{class:L.value},$e(T.default,h))];return s===!1&&g.push(m),g}const _={name:d(()=>e.name),rootRef:x,tabIndicatorRef:Q,routerProps:c};de(()=>{n.unregisterTab(_),n.recalculateScroll()}),Se(()=>{n.registerTab(_),n.recalculateScroll()});function B(s,h){const m={ref:x,class:S.value,tabindex:M.value,role:"tab","aria-selected":b.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:I,onKeydown:E,...h};return Le(f(s,m,A()),[[xe,k.value]])}return{renderTab:B,$tabs:n}}var et=V({name:"QTab",props:Xe,emits:Ge,setup(e,{slots:T,emit:C}){const{renderTab:c}=Je(e,T,C);return()=>c("div")}});function Ye(e,T,C){const c=C===!0?["left","right"]:["top","bottom"];return`absolute-${T===!0?c[0]:c[1]}${e?` text-${e}`:""}`}const pe=["left","center","right","justify"],ce=()=>{};var tt=V({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>pe.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:T,emit:C}){const c=p(),{proxy:{$q:n}}=c,{registerTick:$}=Me(),{registerTimeout:P,removeTimeout:x}=ie(),{registerTimeout:Q}=ie(),k=w(null),b=w(null),S=w(e.modelValue),L=w(!1),M=w(!0),I=w(!1),E=w(!1),A=d(()=>n.platform.is.desktop===!0||e.mobileArrows===!0),_=[],B=w(!1);let s=!1,h,m,g,q=A.value===!0?ee:ue;const be=d(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ye(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),he=d(()=>`q-tabs__content--align-${L.value===!0?"left":E.value===!0?"justify":e.align}`),ge=d(()=>`q-tabs row no-wrap items-center q-tabs--${L.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${A.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),me=d(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+he.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(n.platform.is.mobile===!0?" scroll":"")),D=d(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),W=d(()=>e.vertical!==!0&&n.lang.rtl===!0),O=d(()=>Ee===!1&&W.value===!0);F(W,q),F(()=>e.modelValue,t=>{U({name:t,setCurrent:!0,skipEmit:!0})}),F(()=>e.outsideArrows,()=>{K(z())}),F(A,t=>{q=t===!0?ee:ue,K(z())});function U({name:t,setCurrent:a,skipEmit:l,fromRoute:i}){S.value!==t&&(l!==!0&&C("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(Te(S.value,t),S.value=t)),i!==void 0&&(s=i)}function z(){$(()=>{c.isDeactivated!==!0&&c.isUnmounted!==!0&&Z({width:k.value.offsetWidth,height:k.value.offsetHeight})})}function Z(t){if(D.value===void 0||b.value===null)return;const a=t[D.value.container],l=Math.min(b.value[D.value.scroll],Array.prototype.reduce.call(b.value.children,(o,u)=>o+(u[D.value.content]||0),0)),i=a>0&&l>a;L.value!==i&&(L.value=i),i===!0&&K(q);const v=a<parseInt(e.breakpoint,10);E.value!==v&&(E.value=v)}function Te(t,a){const l=t!=null&&t!==""?_.find(v=>v.name.value===t):null,i=a!=null&&a!==""?_.find(v=>v.name.value===a):null;if(l&&i){const v=l.tabIndicatorRef.value,o=i.tabIndicatorRef.value;clearTimeout(h),v.style.transition="none",v.style.transform="none",o.style.transition="none",o.style.transform="none";const u=v.getBoundingClientRect(),r=o.getBoundingClientRect();o.style.transform=e.vertical===!0?`translate3d(0,${u.top-r.top}px,0) scale3d(1,${r.height?u.height/r.height:1},1)`:`translate3d(${u.left-r.left}px,0,0) scale3d(${r.width?u.width/r.width:1},1,1)`,K(()=>{h=setTimeout(()=>{o.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",o.style.transform="none"},70)})}i&&L.value===!0&&H(i.rootRef.value)}function H(t){const{left:a,width:l,top:i,height:v}=b.value.getBoundingClientRect(),o=t.getBoundingClientRect();let u=e.vertical===!0?o.top-i:o.left-a;if(u<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(u),q();return}u+=e.vertical===!0?o.height-v:o.width-l,u>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(u),q())}function ee(){const t=b.value;if(t!==null){const a=t.getBoundingClientRect(),l=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);W.value===!0?(M.value=Math.ceil(l+a.width)<t.scrollWidth-1,I.value=l>0):(M.value=l>0,I.value=e.vertical===!0?Math.ceil(l+a.height)<t.scrollHeight:Math.ceil(l+a.width)<t.scrollWidth)}}function te(t){R(),le(t),m=setInterval(()=>{le(t)===!0&&R()},5)}function ae(){te(O.value===!0?Number.MAX_SAFE_INTEGER:0)}function ne(){te(O.value===!0?0:Number.MAX_SAFE_INTEGER)}function R(){clearInterval(m)}function Ce(t,a){const l=Array.prototype.filter.call(b.value.children,r=>r===a||r.matches&&r.matches(".q-tab.q-focusable")===!0),i=l.length;if(i===0)return;if(t===36)return H(l[0]),!0;if(t===35)return H(l[i-1]),!0;const v=t===(e.vertical===!0?38:37),o=t===(e.vertical===!0?40:39),u=v===!0?-1:o===!0?1:void 0;if(u!==void 0){const r=W.value===!0?-1:1,y=l.indexOf(a)+u*r;return y>=0&&y<i&&(H(l[y]),l[y].focus({preventScroll:!0})),!0}}const we=d(()=>O.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function le(t){const a=b.value,{get:l,set:i}=we.value;let v=!1,o=l(a);const u=t<o?-1:1;return o+=u*5,o<0?(v=!0,o=0):(u===-1&&o<=t||u===1&&o>=t)&&(v=!0,o=t),i(a,o),q(),v}function G(){return _.filter(t=>t.routerProps!==void 0&&t.routerProps.hasRouterLink.value===!0)}function _e(){let t=null,a=s;const l={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:i}=c.proxy.$route,v=S.value;let o=a===!0?ce:r=>{v===r.name.value&&(a=!0,o=ce)};const u=G();for(const r of u){const y=r.routerProps.exact.value===!0;if(r.routerProps[y===!0?"linkIsExactActive":"linkIsActive"].value!==!0||l.exact===!0&&y!==!0){o(r);continue}const X=r.routerProps.linkRoute.value,J=X.hash;if(y===!0){if(i===J){t=r.name.value;break}else if(i!==""&&J!==""){o(r);continue}}const Y=X.matched.length,se=X.href.length-J.length;if(Y===l.matchedLen?se>l.hrefLen:Y>l.matchedLen){t=r.name.value,Object.assign(l,{matchedLen:Y,hrefLen:se,exact:y});continue}o(r)}(a===!0||t!==null)&&U({name:t,setCurrent:!0,fromRoute:!0})}function qe(t){if(x(),B.value!==!0&&k.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&k.value.contains(a)===!0&&(B.value=!0)}}function ye(){P(()=>{B.value=!1},30)}function j(){oe.avoidRouteWatcher!==!0&&Q(_e)}function Re(t){_.push(t),G().length>0&&(g===void 0&&(g=F(()=>c.proxy.$route,j)),j())}function Pe(t){_.splice(_.indexOf(t),1),g!==void 0&&(G().length===0&&(g(),g=void 0),j())}const oe={currentModel:S,tabProps:be,hasFocus:B,registerTab:Re,unregisterTab:Pe,verifyRouteModel:j,updateModel:U,recalculateScroll:z,onKbdNavigate:Ce,avoidRouteWatcher:!1};Fe(ve,oe),de(()=>{clearTimeout(h),g!==void 0&&g()});let re=!1;return Qe(()=>{re=!0}),De(()=>{re===!0&&z()}),()=>{const t=[f(We,{onResize:Z}),f("div",{ref:b,class:me.value,onScroll:q},fe(T.default))];return A.value===!0&&t.push(f(N,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:ae,onTouchstartPassive:ae,onMouseup:R,onMouseleave:R,onTouchend:R}),f(N,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(I.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:ne,onTouchstartPassive:ne,onMouseup:R,onMouseleave:R,onTouchend:R})),f("div",{ref:k,class:ge.value,role:"tablist",onFocusin:qe,onFocusout:ye},t)}}}),at=V({name:"QTabPanel",props:ze,setup(e,{slots:T}){return()=>f("div",{class:"q-tab-panel"},fe(T.default))}}),nt=V({name:"QTabPanels",props:{...He,...je},emits:Ke,setup(e,{slots:T}){const C=p(),c=Ne(e,C.proxy.$q),{updatePanelsList:n,getPanelContent:$,panelDirectives:P}=Ve(),x=d(()=>"q-tab-panels q-panel-parent"+(c.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(T),Oe("div",{class:x.value},$(),"pan",e.swipeable,()=>P.value))}});export{tt as Q,et as a,nt as b,at as c};
